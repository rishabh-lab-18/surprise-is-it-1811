<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Nikita ‚ù§Ô∏è</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#ff9aa2,#ffdde1,#fad0c4);
  min-height:100vh;
  overflow-x:hidden;
  color:#333;
}

/* hearts */
.heart{
  position:fixed;
  bottom:-20px;
  font-size:18px;
  animation:floatUp 10s linear infinite;
}
@keyframes floatUp{
  0%{transform:translateY(0);opacity:0}
  20%{opacity:.8}
  100%{transform:translateY(-110vh);opacity:0}
}

/* entry */
#entry{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  color:#fff;
  z-index:1000;
}
.enter-btn{
  padding:14px 26px;
  border:none;
  border-radius:30px;
  font-size:16px;
  background:#fff;
  color:#ff4d6d;
  font-weight:700;
  cursor:pointer;
}

/* layout */
header{text-align:center;padding:20px;background:rgba(255,255,255,.75)}
.tabs{display:flex;justify-content:center;gap:10px;padding:12px}
.tab-button{padding:10px 18px;border:none;border-radius:25px;background:#fff;font-weight:600;cursor:pointer}
.tab-content{display:none;padding:30px;max-width:1000px;margin:auto}
.active{display:block}
.card{background:#fff;padding:25px;border-radius:18px;box-shadow:0 10px 25px rgba(0,0,0,.1)}

/* scratch */
.scratch-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px}
.scratch{
  position:relative;
  height:120px;
  background:#ffe4ec;
  border-radius:15px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
}
.scratch canvas{position:absolute;inset:0}
#scratchResult{display:none;text-align:center;font-size:20px;margin-top:20px;font-weight:700}

/* wordle */
.grid{display:grid;gap:8px;justify-content:center;margin:20px 0}
.tile{
  width:50px;height:50px;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:20px;
  background:#fff;
  box-shadow:0 3px 8px rgba(0,0,0,.1);
}
.correct{background:#6aaa64;color:#fff}
.present{background:#c9b458;color:#fff}
.absent{background:#787c7e;color:#fff}
#wifeModeBox{display:none;margin-top:10px;font-weight:600}

/* ENVELOPE HERO PASTEL */
.envelope-wrap{display:flex;flex-direction:column;align-items:center;margin-top:20px}

.envelope{
  position:relative;
  width:400px;
  height:240px;
  background:linear-gradient(145deg,#ffeef3,#ffd6e0);
  box-shadow:0 18px 35px rgba(0,0,0,0.15);
  cursor:pointer;
  border-radius:6px;
  overflow:hidden;
}

.bottom-left,.bottom-right{
  position:absolute;
  bottom:0;
  width:0;height:0;
  border-top:120px solid #ffdbe5;
}
.bottom-left{left:0;border-right:200px solid transparent}
.bottom-right{right:0;border-left:200px solid transparent}

.flap{
  position:absolute;
  top:0;left:0;
  width:0;height:0;
  border-left:200px solid transparent;
  border-right:200px solid transparent;
  border-bottom:120px solid #ffc2d1;
  transform-origin:top;
  transition:.7s ease;
  z-index:3;
}

.seal{
  position:absolute;
  top:90px;
  left:50%;
  transform:translateX(-50%);
  font-size:32px;
  z-index:4;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%,100%{transform:translateX(-50%) scale(1)}
  50%{transform:translateX(-50%) scale(1.08)}
}

.inner-letter{
  position:absolute;
  bottom:0;
  width:100%;
  height:150px;
  background:linear-gradient(#ff8fab,#ff6f91);
  color:white;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  opacity:0;
  transform:translateY(40px);
  transition:.6s ease;
}

.letter{
  display:none;
  width:400px;
  background:#fff;
  margin-top:20px;
  padding:24px;
  border-radius:14px;
  box-shadow:0 18px 35px rgba(0,0,0,.15);
}
.yes-btn{margin-top:15px;padding:10px 18px;border:none;border-radius:20px;background:#ff4d6d;color:#fff;font-weight:700;cursor:pointer}
</style>
</head>
<body>

<div id="entry">
<h1>To My Favorite Human ‚ù§Ô∏è</h1>
<button class="enter-btn" onclick="enterSite()">Enter Love Zone</button>
</div>

<header><h1>Wife Management System ‚ù§Ô∏è</h1></header>

<div class="tabs">
<button class="tab-button" onclick="showTab('home')">Home</button>
<button class="tab-button" onclick="showTab('dashboard')">Dashboard</button>
<button class="tab-button" onclick="showTab('games')">Wordle</button>
<button class="tab-button" onclick="showTab('final')">Letter</button>
</div>

<div id="home" class="tab-content active">
<div class="card"><h2>Welcome ‚ù§Ô∏è</h2></div>
</div>

<div id="dashboard" class="tab-content">
<div class="card">
<h2>Scratch to Reveal üòÑ</h2>
<div class="scratch-grid" id="scratchGrid"></div>
<div id="scratchResult">All stats analyzed‚Ä¶ I got the best wife ‚ù§Ô∏è</div>
</div>
</div>

<div id="games" class="tab-content">
<div class="card" style="text-align:center">
<h2>‚ù§Ô∏è Love Wordle ‚ù§Ô∏è</h2>
<p id="roundInfo"></p>
<div id="grid" class="grid"></div>

<div id="wifeModeBox">
<label><input type="checkbox" id="wifeMode"> Enable Wifey Mode üòå</label>
</div>

<div id="wifeMsg" style="margin-top:8px;font-weight:600;color:#ff4d6d;"></div>

<div id="nextBox" style="display:none;margin-top:12px;">
<button onclick="goNext()" style="padding:10px 18px;border:none;border-radius:20px;background:#ff4d6d;color:#fff;font-weight:700;cursor:pointer;">
Next ‚ù§Ô∏è
</button>
</div>

<p>Type letters and press Enter</p>
</div>
</div>

<div id="final" class="tab-content">
<div class="card envelope-wrap">

<div style="margin-bottom:12px;font-weight:600;color:#e63946">
A letter for you üíå (click to open)
</div>

<div class="envelope" id="env">
<div class="flap" id="flap"></div>
<div class="bottom-left"></div>
<div class="bottom-right"></div>
<div class="seal">üíó</div>
<div class="inner-letter" id="innerLetter">For Nikita ‚ù§Ô∏è</div>
</div>

<div class="letter" id="letter">
<p>Hey Nikita,</p>
<p>You mean the world to me. I live to make you happy and proud (not perfect yet üòõ).</p>
<p>I love you alot and will never stop that. You are tied to me for now and heaven.</p>
<p>I know you are my valentine forever, but still I will ask it every time, again and again.</p>
<p><b>Will you be my valentine babe??</b></p>
<p>yours rish ‚ù§Ô∏è</p>
<button class="yes-btn" onclick="alert('‚ù§Ô∏è')">YES, ALWAYS</button>
</div>

</div>
</div>

<script>
function enterSite(){document.getElementById('entry').style.display='none'}
function showTab(id){
document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
document.getElementById(id).classList.add('active');
}

/* hearts */
setInterval(()=>{
const h=document.createElement('div');
h.className='heart';
h.innerText='‚ù§Ô∏è';
h.style.left=Math.random()*100+'vw';
document.body.appendChild(h);
setTimeout(()=>h.remove(),10000);
},500);

/* scratch */
const stats=[
"Cuteness Index: Dangerous",
"Smile Impact: Fatal",
"Shopping Power: Unlimited",
"Husband Control: Full Admin",
"Food Stealing Skill: Expert",
"Forever Status: Confirmed"
];
const gridEl=document.getElementById('scratchGrid');
let revealed=0;
stats.forEach(text=>{
const div=document.createElement('div');
div.className='scratch';
div.innerText=text;
const c=document.createElement('canvas');
c.width=300;c.height=120;
div.appendChild(c);
const ctx=c.getContext('2d');
ctx.fillStyle='#bbb';
ctx.fillRect(0,0,c.width,c.height);
let down=false;
c.onmousedown=()=>down=true;
c.onmouseup=()=>{down=false;check(c)};
c.onmousemove=e=>{
if(!down)return;
ctx.globalCompositeOperation='destination-out';
ctx.beginPath();
ctx.arc(e.offsetX,e.offsetY,20,0,Math.PI*2);
ctx.fill();
};
gridEl.appendChild(div);
});
function check(c){
const d=c.getContext('2d').getImageData(0,0,c.width,c.height).data;
let clear=0;
for(let i=3;i<d.length;i+=4)if(d[i]===0)clear++;
if(clear>d.length/8){
c.style.display='none';
revealed++;
if(revealed===6)document.getElementById('scratchResult').style.display='block';
}
}

/* WORDLE */
const words=['NIKITA','PICKLE','FOREVER'];
let round=0,row=0,guess='';
const grid=document.getElementById('grid');
const info=document.getElementById('roundInfo');
const wifeBox=document.getElementById('wifeModeBox');

function buildGrid(){
const len=words[round].length;
grid.style.gridTemplateColumns=`repeat(${len},50px)`;
grid.innerHTML='';
for(let i=0;i<len*6;i++){
const d=document.createElement('div');
d.className='tile';
grid.appendChild(d);
}
info.textContent=`Round ${round+1} of 3`;
document.getElementById('wifeMsg').innerText="";
document.getElementById('nextBox').style.display='none';
wifeBox.style.display='none';
document.getElementById('wifeMode').checked=false;
}
buildGrid();

document.addEventListener('keydown',e=>{
if(!document.getElementById('games').classList.contains('active'))return;
const len=words[round].length;
if(e.key==='Backspace'){guess=guess.slice(0,-1);render();}
else if(e.key==='Enter'){submit();}
else if(/^[a-zA-Z]$/.test(e.key)&&guess.length<len){
guess+=e.key.toUpperCase();render();
}
});

function render(){
const len=words[round].length;
const t=[...grid.children];
for(let i=0;i<len;i++)t[row*len+i].textContent=guess[i]||'';
}

function submit(){
const target=words[round];
const len=target.length;
if(guess.length!==len)return;

/* show wifey mode */
if(row===4 && guess!==target){
wifeBox.style.display='block';
}

/* last attempt autocorrect */
if(row===5){
const cb=document.getElementById('wifeMode');
if(cb && cb.checked){
guess=target;
render();
document.getElementById('wifeMsg').innerText="My wife is always right ‚ù§Ô∏è";
}
}

const t=[...grid.children];
const freq={};
for(const c of target)freq[c]=(freq[c]||0)+1;
const res=new Array(len).fill('');

for(let i=0;i<len;i++){
if(guess[i]===target[i]){
res[i]='correct';
freq[guess[i]]--;
}
}
for(let i=0;i<len;i++){
if(res[i])continue;
const l=guess[i];
if(freq[l]>0){res[i]='present';freq[l]--}
else res[i]='absent';
}
for(let i=0;i<len;i++)t[row*len+i].classList.add(res[i]);

if(guess===target){
document.getElementById('nextBox').style.display='block';
return;
}

row++;guess='';
if(row===6){reset();}
}

function goNext(){next();}

function next(){
round++;
if(round===3){
showTab('final');
return;
}
reset();
buildGrid();
}
function reset(){row=0;guess='';}

/* envelope */
let stage=0;
const flap=document.getElementById('flap');
const inner=document.getElementById('innerLetter');
const letter=document.getElementById('letter');

document.getElementById('env').onclick=function(){
if(stage===0){
flap.style.transform='rotateX(180deg)';
inner.style.opacity=1;
inner.style.transform='translateY(0)';
stage=1;
}
else if(stage===1){
inner.style.transform='translateY(-70px)';
setTimeout(()=>{letter.style.display='block';},350);
stage=2;
}
};
</script>
</body>
</html>
